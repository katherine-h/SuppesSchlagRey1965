<html>
  <head>
    <title>My experiment</title>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- jsPsych -->
    <script src="jsPsych/jspsych.js"></script>
    <script src="jsPsych/plugins/jspsych-instructions.js"></script>
    <script src="jsPsych/plugins/free_sort_mod.js"></script>
    <link href="jsPsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    <!-- mmTurkey -->
    <!-- <script src="mmturkey/mmturkey.js"></script> -->
  </head>
  
  <body>
    <div id="jspsych_target"></div>
  </body>

  <script type='text/javascript'>

  /* define welcome message block */
  var welcome_block = {
    type: 'instructions',
    pages: ['Welcome to the experiment. Press any key to begin.', 
            'Classify these cards by correctly placing them in the pink and blue category boxes. Click and drag to move a card. Click the `continue` button once you have completed your classification.'],
    show_clickable_nav: true      
  }

  var im_path = 'ims/'
  var sorting_stimuli = []
  for (var i = 0; i <= 7; i++){
    sorting_stimuli.push(im_path + 'im' + i + '.png')
  }

  var sort_trial = {
    type: 'free-sort-mod',
    stimuli: sorting_stimuli,
    stim_height: 100,
    stim_width: 156,
    sort_area_height: 1600,
    prompt: '<p></p>'
  }

  /* create experiment timeline array */
  var timeline = []
  timeline.push(welcome_block)
  timeline.push(sort_trial)

  /* start the experiment */
  jsPsych.init({
    timeline: timeline,
    on_finish: function() {
      jsPsych.data.displayData('json')
    }
    // on_finish: function() {
    //   opener.turk.submit(jsPsych.data.getData())
    // }
  })

  </script>
</html>